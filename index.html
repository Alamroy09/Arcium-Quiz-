<script>
  // ===== DATA =====
  const quizData = [
    { question: "What is Arcium’s core mission?", options: ["To build a social network", "To create a decentralized compute platform for encrypted data", "To launch a new blockchain token", "To provide cloud storage only"], answer: 1 },
    { question: "Which technology powers Arcium’s privacy layer?", options: ["Homomorphic Encryption", "Blockchain", "AI Computation", "Quantum Computing"], answer: 0 },
    { question: "What stage follows Testnet in Arcium’s roadmap?", options: ["Alpha Phase", "Beta Phase", "Mainnet Launch", "Private Testing"], answer: 2 },
    { question: "What makes Arcium different from traditional cloud computing?", options: ["It is faster", "It can process encrypted data without decrypting", "It uses free storage", "It runs only on mobile"], answer: 1 },
    { question: "What is the purpose of the Arcium testnet?", options: ["To reward validators", "To test network stability and performance", "To distribute tokens", "To run advertisements"], answer: 1 },
    { question: "What does FHE stand for?", options: ["Full Homomorphic Encryption", "Fast Hash Encryption", "File Hosting Engine", "Fully Hosted Environment"], answer: 0 },
    { question: "Who can participate in the Arcium testnet?", options: ["Only developers", "Only investors", "Anyone interested", "Only beta testers"], answer: 2 },
    { question: "Where can you track Arcium’s development?", options: ["GitHub and Docs", "Reddit", "Telegram only", "Medium only"], answer: 0 },
    { question: "Which phase marks Arcium’s public launch?", options: ["Alpha", "Beta", "Mainnet", "Testnet"], answer: 2 },
    { question: "What is Arcium primarily focused on?", options: ["Gaming", "AI tools", "Secure computation on encrypted data", "DeFi tokens"], answer: 2 },
  ];

  // ===== STATE =====
  let currentQuestion = 0;
  let score = 0;
  let selectedAnswer = null; // keep track but don’t lock

  // ===== ELEMENTS =====
  const startPage = document.getElementById('start-page');
  const startBtn = document.getElementById('startBtn');

  const quizPage = document.getElementById('quiz-page');
  const questionText = document.getElementById('questionText');
  const optionsWrap = document.getElementById('options');
  const feedbackEl = document.getElementById('feedback');
  const nextBtn = document.getElementById('nextBtn');

  const resultPage = document.getElementById('result-page');
  const scoreBox = document.getElementById('scoreBox');
  const restartBtn = document.getElementById('restartBtn');
  const showAnswersBtn = document.getElementById('showAnswersBtn');
  const answersListWrap = document.getElementById('answersListWrap');
  const answersList = document.getElementById('answersList');

  // ===== FLOW =====
  startBtn.addEventListener('click', startQuiz);
  nextBtn.addEventListener('click', nextQuestion);
  restartBtn.addEventListener('click', restartQuiz);
  showAnswersBtn.addEventListener('click', toggleAnswers);

  function startQuiz(){
    startPage.classList.add('hidden');
    resultPage.classList.add('hidden');
    answersListWrap.classList.add('hidden');
    score = 0; currentQuestion = 0;
    showQuestion();
    quizPage.classList.remove('hidden');
  }

  function showQuestion(){
    feedbackEl.textContent = '';
    nextBtn.disabled = true;
    selectedAnswer = null;

    const q = quizData[currentQuestion];
    questionText.textContent = `Q${currentQuestion + 1}. ${q.question}`;
    optionsWrap.innerHTML = '';

    q.options.forEach((opt, idx) => {
      const d = document.createElement('div');
      d.className = 'option';
      d.tabIndex = 0;
      d.textContent = opt;
      d.dataset.index = idx;
      d.addEventListener('click', () => selectAnswer(idx));
      optionsWrap.appendChild(d);
    });
  }

  function selectAnswer(idx){
    selectedAnswer = idx;
    nextBtn.disabled = false; // user can move on after selecting

    // just highlight selection (not right/wrong)
    const optionEls = optionsWrap.querySelectorAll('.option');
    optionEls.forEach((el, i) => {
      el.classList.remove('selected');
      if(i === idx) el.classList.add('selected');
    });
  }

  function nextQuestion(){
    if(selectedAnswer === quizData[currentQuestion].answer){
      score++;
    }
    currentQuestion++;
    if(currentQuestion < quizData.length){
      showQuestion();
    } else {
      showResult();
    }
  }

  function showResult(){
    quizPage.classList.add('hidden');
    resultPage.classList.remove('hidden');
    scoreBox.textContent = `${score} / ${quizData.length}`;
    generateAnswersList();
    answersListWrap.classList.add('hidden');
  }

  function generateAnswersList(){
    answersList.innerHTML = '';
    quizData.forEach((q,i) => {
      const p = document.createElement('p');
      p.innerHTML = `<strong>Q${i+1}:</strong> ${q.question}<br>✅ <em>${q.options[q.answer]}</em>`;
      answersList.appendChild(p);
    });
  }

  function toggleAnswers(){
    answersListWrap.classList.toggle('hidden');
  }

  function restartQuiz(){
    answersListWrap.classList.add('hidden');
    startPage.classList.remove('hidden');
    resultPage.classList.add('hidden');
  }
</script>

<style>
  .option.selected{
    background:rgba(56,189,248,0.2);
    border-color:rgba(56,189,248,0.5);
  }
</style>
